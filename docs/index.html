<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KenPom Visualization Dashboard</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>KenPom Basketball Analytics</h1>
            <p class="subtitle">Updated daily with the latest statistics</p>
            <p class="last-updated">Last updated: <span id="last-updated"></span></p>
        </header>

        <main>
            <section class="section">
                <h2>Top 100 Teams Overview</h2>
                <div class="plot-container">
                    <div class="plot-item">
                        <img src="plots/kenpom_top100_eff.png" alt="Top 100 Teams Efficiency Plot" onerror="handleImageError(this)">
                    </div>
                </div>
            </section>

            <section class="section">
                <h2>AP Top 25 Teams</h2>
                <div class="plot-container">
                    <div class="plot-item">
                        <img src="plots/kenpom_ap25_eff.png" alt="AP Top 25 Teams Efficiency Plot" onerror="handleImageError(this)">
                    </div>
                </div>
            </section>

            <section class="section">
                <h2>Conference Breakdowns</h2>
                <div class="conference-grid">
                    <div class="plot-item">
                        <h3 class="plot-title">ACC</h3>
                        <img src="plots/conferences/kenpom_acc_eff.png" alt="ACC Conference Efficiency Plot" onerror="handleImageError(this)">
                    </div>
                    <div class="plot-item">
                        <h3 class="plot-title">Big 12</h3>
                        <img src="plots/conferences/kenpom_b12_eff.png" alt="Big 12 Conference Efficiency Plot" onerror="handleImageError(this)">
                    </div>
                    <div class="plot-item">
                        <h3 class="plot-title">Big East</h3>
                        <img src="plots/conferences/kenpom_be_eff.png" alt="Big East Conference Efficiency Plot" onerror="handleImageError(this)">
                    </div>
                    <div class="plot-item">
                        <h3 class="plot-title">Big Ten</h3>
                        <img src="plots/conferences/kenpom_b10_eff.png" alt="Big Ten Conference Efficiency Plot" onerror="handleImageError(this)">
                    </div>
                    <div class="plot-item">
                        <h3 class="plot-title">SEC</h3>
                        <img src="plots/conferences/kenpom_sec_eff.png" alt="SEC Conference Efficiency Plot" onerror="handleImageError(this)">
                    </div>
                    <div class="plot-item">
                        <h3 class="plot-title">Atlantic 10</h3>
                        <img src="plots/conferences/kenpom_a10_eff.png" alt="Atlantic 10 Conference Efficiency Plot" onerror="handleImageError(this)">
                    </div>
                    <div class="plot-item">
                        <h3 class="plot-title">American Athletic</h3>
                        <img src="plots/conferences/kenpom_amer_eff.png" alt="American Athletic Conference Efficiency Plot" onerror="handleImageError(this)">
                    </div>
                    <div class="plot-item">
                        <h3 class="plot-title">Mountain West</h3>
                        <img src="plots/conferences/kenpom_mwc_eff.png" alt="Mountain West Conference Efficiency Plot" onerror="handleImageError(this)">
                    </div>
                    <div class="plot-item">
                        <h3 class="plot-title">West Coast</h3>
                        <img src="plots/conferences/kenpom_wcc_eff.png" alt="West Coast Conference Efficiency Plot" onerror="handleImageError(this)">
                    </div>
                    <div class="plot-item">
                        <h3 class="plot-title">MAC</h3>
                        <img src="plots/conferences/kenpom_mac_eff.png" alt="MAC Conference Efficiency Plot" onerror="handleImageError(this)">
                    </div>
                    <div class="plot-item">
                        <h3 class="plot-title">Conference USA</h3>
                        <img src="plots/conferences/kenpom_cusa_eff.png" alt="Conference USA Efficiency Plot" onerror="handleImageError(this)">
                    </div>
                    <div class="plot-item">
                        <h3 class="plot-title">Ivy League</h3>
                        <img src="plots/conferences/kenpom_ivy_eff.png" alt="Ivy League Conference Efficiency Plot" onerror="handleImageError(this)">
                    </div>
                </div>
            </section>
        </main>

        <footer>
            <p>Data source: <a href="https://kenpom.com" target="_blank">KenPom.com</a></p>
            <p>This site is updated daily with the latest college basketball analytics</p>
        </footer>
    </div>

    <script>
        // Update the last-updated date
        document.getElementById('last-updated').textContent = new Date().toLocaleDateString('en-US', { 
            year: 'numeric', 
            month: 'long', 
            day: 'numeric' 
        });

        // Error handling for images
        function handleImageError(img) {
            console.error(`Failed to load image: ${img.src}`);
            img.style.display = 'none';
            
            // Check if error message already exists
            const existingError = img.parentNode.querySelector('.error-message');
            if (!existingError) {
                const error = document.createElement('div');
                error.className = 'error-message';
                error.textContent = 'Plot currently unavailable';
                img.parentNode.appendChild(error);
            }
        }

        // Add loading state for images
        document.addEventListener('DOMContentLoaded', function() {
            const images = document.querySelectorAll('img');
            images.forEach(img => {
                img.addEventListener('load', function() {
                    this.classList.add('loaded');
                });
            });
        });
    </script>
</body>
</html>
